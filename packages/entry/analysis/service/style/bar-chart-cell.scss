@import "~@common/scss/themes.scss";

$themes: (
        classic: (
                bar-chart-background-color: rgba(0, 0, 0, 0.06),
                bar-chart-percent-background-color: #49d484,
                bar-chart-percent-fatal-background-color: #ff4f55,
                bar-chart-percent-warn-background-color: #fddd2f,
                bar-chart-percent-info-background-color: #497eff,
                bar-chart-text-font-color: #212121,
        ),
        dark: (
                bar-chart-background-color: rgba(255, 255, 255, 0.06),
                bar-chart-percent-background-color: #1fa558,
                bar-chart-percent-fatal-background-color: #ff4f55,
                bar-chart-percent-warn-background-color: #fddd2f,
                bar-chart-percent-info-background-color: #497eff,
                bar-chart-text-font-color: #ffffff,
        ),
);

@mixin bar-chart-cell {
  @include themify($themes) {
    ::v-deep tr {
      .bar-chart {
        position: relative;
        display: inline-block;
        width: 100%;
        height: 12px;

        > .percent {
          position: absolute;
          width: calc(100% - 50px);
          height: 100%;
          border-radius: 2px;
          background-color: themed(
                          'bar-chart-background-color'
          );
          > .gauge {
            position: absolute;
            height: 100%;
            border-radius: 2px;
            background-color: themed(
                            'bar-chart-percent-background-color'
            );
            &.fatal {
              background-color: themed(
                              'bar-chart-percent-fatal-background-color'
              ) !important;
            }
            &.warn {
              background-color: themed(
                              'bar-chart-percent-warn-background-color'
              ) !important;
            }
            &.info {
              background-color: themed(
                              'bar-chart-percent-info-background-color'
              ) !important;
            }
          }
        }

        > .text {
          position: absolute;
          width: 50px;
          font-size: 11px;
          text-align: right;
          right: 0px;
          top: -3px;
          color: themed('bar-chart-text-font-color');
        }
      }
    }
  }
}
